define(["jquery","local_connect/jstree"],function(a,b){return{init:function(){a("#connect_browser").jstree({core:{animation:1,check_callback:!0,themes:{stripes:!0},data:{url:function(a){return M.cfg.wwwroot+"/local/connect/ajax/tree_data.php"},data:function(a){return{id:a.id}},dataType:"json"}},search:{show_only_matches:!0,fuzzy:!1,ajax:{url:M.cfg.wwwroot+"/local/connect/ajax/tree_search.php",dataType:"json"}},plugins:["search"]}),a("#connect_browser").on("changed.jstree",function(a,b){"#"!=b.node.a_attr.href&&(window.location=b.node.a_attr.href)});var b=!1;a("#cb_search").keyup(function(){b&&clearTimeout(b),b=setTimeout(function(){var b=a("#cb_search").val();a("#connect_browser").jstree(!0).search(b)},250)})}}});